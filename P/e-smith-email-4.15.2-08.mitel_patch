Index: e-smith-email/e-smith-email.spec
diff -u e-smith-email/root/etc/e-smith/web/functions/emailsettings:1.8 e-smith-email/root/etc/e-smith/web/functions/emailsettings:1.9
--- e-smith-email/root/etc/e-smith/web/functions/emailsettings:1.8	Sun Apr 10 20:46:58 2005
+++ e-smith-email/root/etc/e-smith/web/functions/emailsettings	Tue Apr 26 11:39:42 2005
@@ -349,7 +349,7 @@
         </field>
 
         <field type="select"
-            id="PatternStatus"
+            id="PatternsStatus"
             options="'enabled' => 'ENABLED', 'disabled' => 'DISABLED'"
             value="get_patterns_status()">
             <label>LABEL_BLOCK_EXECUTABLE_CONTENT</label>
Index: e-smith-email/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/emailsettings.pm
diff -u e-smith-email/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/emailsettings.pm:1.8 e-smith-email/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/emailsettings.pm:1.9
--- e-smith-email/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/emailsettings.pm:1.8	Sun Apr 10 20:46:58 2005
+++ e-smith-email/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/emailsettings.pm	Tue Apr 26 11:39:42 2005
@@ -1,7 +1,7 @@
 #!/usr/bin/perl -w 
 
 #
-# $Id: emailsettings.pm,v 1.7 2005/03/24 16:18:49 charlieb Exp $
+# $Id: emailsettings.pm,v 1.8 2005/04/11 00:46:58 charlieb Exp $
 #
 
 package    esmith::FormMagick::Panel::emailsettings;
@@ -25,7 +25,7 @@
   get_prop get_value validate_admin_email
 );
 
-our $VERSION = sprintf '%d.%03d', q$Revision: 1.7 $ =~ /: (\d+).(\d+)/;
+our $VERSION = sprintf '%d.%03d', q$Revision: 1.8 $ =~ /: (\d+).(\d+)/;
 
 our $db = esmith::ConfigDB->open;
 our $pattern_db = esmith::ConfigDB->open("/home/e-smith/mailpatterns");
@@ -246,6 +246,10 @@
         $db->get('smtpfront-qmail')->set_prop("authentication", "disabled" );
         $db->get('ssmtpfront-qmail')->set_prop("authentication", "disabled" );
     }
+
+    my $patterns_status = ( $q->param('PatternsStatus') || 'disabled' );
+    $db->set_prop('smtpfront-qmail', 'Patterns', $patterns_status);
+    $db->set_prop('ssmtpfront-qmail', 'Patterns', $patterns_status);
 
     $fm->adjust_patterns();
 
Index: e-smith-email/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/pseudonyms.pm
diff -u e-smith-email/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/pseudonyms.pm:1.19 e-smith-email/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/pseudonyms.pm:1.20
--- e-smith-email/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/pseudonyms.pm:1.19	Wed Mar  9 20:41:10 2005
+++ e-smith-email/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/pseudonyms.pm	Tue Apr 26 11:39:42 2005
@@ -1,7 +1,7 @@
 #!/usr/bin/perl -w 
 
 #
-# $Id: pseudonyms.pm,v 1.18 2005/02/25 18:14:10 charlieb Exp $
+# $Id: pseudonyms.pm,v 1.19 2005/03/10 01:41:10 charlieb Exp $
 #
 
 package esmith::FormMagick::Panel::pseudonyms;
@@ -32,7 +32,7 @@
     validate_is_pseudonym 
 );
 
-our $VERSION = sprintf '%d.%03d', q$Revision: 1.18 $ =~ /: (\d+).(\d+)/;
+our $VERSION = sprintf '%d.%03d', q$Revision: 1.19 $ =~ /: (\d+).(\d+)/;
 
 our $config = esmith::ConfigDB->open();
 our $accounts = esmith::AccountsDB->open();
@@ -151,7 +151,7 @@
 
 =head2 performCreatePseudonym
 
-Create a new pseudonum
+Create a new pseudonym
 
 =cut
 
